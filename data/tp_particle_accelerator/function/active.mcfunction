scoreboard players add @s tp.speedsters.time.particle 1
particle smoke ~ ~ ~ 0.25 0.01 0.25 0.01 5 force

# execute if score @s tp.speedsters.time.particle >= #tp.particle.accelerator.0 tp.speedsters.time.particle if score @s tp.speedsters.time.particle < #tp.particle.accelerator.1 tp.speedsters.time.particle as @s at @s run particle dust_color_transition 1 0.682 0 0.5 1 0.235 0 ~ ~ ~ 0.25 0.25 0.25 2 10 force
# execute if score @s tp.speedsters.time.particle >= #tp.particle.accelerator.1 tp.speedsters.time.particle if score @s tp.speedsters.time.particle < #tp.particle.accelerator.2 tp.speedsters.time.particle as @s at @s run particle dust_color_transition 1 0.682 0 0.5 1.3 0.235 0 ~ ~ ~ 0.35 0.35 0.35 2 30 force
# execute if score @s tp.speedsters.time.particle >= #tp.particle.accelerator.2 tp.speedsters.time.particle if score @s tp.speedsters.time.particle < #tp.particle.accelerator.3 tp.speedsters.time.particle as @s at @s run particle dust_color_transition 1 0.682 0 0.5 1.6 0.235 0 ~ ~ ~ 0.5 0.5 0.5 2 50 force

# execute if score @s tp.speedsters.time.particle >= #tp.particle.accelerator.exp.0 tp.speedsters.time.particle if score @s tp.speedsters.time.particle < #tp.particle.accelerator.exp.1 tp.speedsters.time.particle as @s at @s run particle dust_color_transition 1 0.682 0 1 1 0.235 0 ~ ~0.4 ~ 1 1 1 1 200 force
# execute if score @s tp.speedsters.time.particle >= #tp.particle.accelerator.exp.1 tp.speedsters.time.particle if score @s tp.speedsters.time.particle < #tp.particle.accelerator.exp.2 tp.speedsters.time.particle as @s at @s run particle dust_color_transition 1 0.682 0 1.2 1 0.235 0 ~ ~0.4 ~ 2 2 2 1 400 force
# execute if score @s tp.speedsters.time.particle >= #tp.particle.accelerator.exp.2 tp.speedsters.time.particle if score @s tp.speedsters.time.particle < #tp.particle.accelerator.exp.3 tp.speedsters.time.particle as @s at @s run particle dust_color_transition 1 0.682 0 1.5 1 0.235 0 ~ ~0.4 ~ 3 3 3 1 600 force
# execute if score @s tp.speedsters.time.particle >= #tp.particle.accelerator.exp.3 tp.speedsters.time.particle if score @s tp.speedsters.time.particle < #tp.particle.accelerator.exp.4 tp.speedsters.time.particle as @s at @s run particle dust_color_transition 1 0.682 0 2 1 0.235 0 ~ ~0.4 ~ 5 5 5 1 1000 force
# execute if score @s tp.speedsters.time.particle >= #tp.particle.accelerator.exp.4 tp.speedsters.time.particle if score @s tp.speedsters.time.particle < #tp.particle.accelerator.exp.5 tp.speedsters.time.particle as @s at @s run particle dust_color_transition 1 0.682 0 2.2 1 0.235 0 ~ ~0.4 ~ 8 8 8 1 1800 force
# execute if score @s tp.speedsters.time.particle >= #tp.particle.accelerator.exp.5 tp.speedsters.time.particle if score @s tp.speedsters.time.particle < #tp.particle.accelerator.max tp.speedsters.time.particle as @s at @s run particle dust_color_transition 1 0.682 0 2.5 1 0.235 0 ~ ~0.4 ~ 13 13 13 1 2800 force

execute unless entity @s[tag=tp.particle.accelerator.fueled.tachyon] if score @s tp.speedsters.time.particle >= #tp.particle.accelerator.exp.0 tp.speedsters.time.particle if score @s tp.speedsters.time.particle < #tp.particle.accelerator.exp.1 tp.speedsters.time.particle as @s at @s run tag @a[tag=!tp.particle.prox,distance=..3] add tp.particle.prox
execute unless entity @s[tag=tp.particle.accelerator.fueled.tachyon] if score @s tp.speedsters.time.particle >= #tp.particle.accelerator.exp.1 tp.speedsters.time.particle if score @s tp.speedsters.time.particle < #tp.particle.accelerator.exp.2 tp.speedsters.time.particle as @s at @s run tag @a[tag=!tp.particle.prox,distance=..4] add tp.particle.prox
execute unless entity @s[tag=tp.particle.accelerator.fueled.tachyon] if score @s tp.speedsters.time.particle >= #tp.particle.accelerator.exp.2 tp.speedsters.time.particle if score @s tp.speedsters.time.particle < #tp.particle.accelerator.exp.3 tp.speedsters.time.particle as @s at @s run tag @a[tag=!tp.particle.prox,distance=..5] add tp.particle.prox
execute unless entity @s[tag=tp.particle.accelerator.fueled.tachyon] if score @s tp.speedsters.time.particle >= #tp.particle.accelerator.exp.3 tp.speedsters.time.particle if score @s tp.speedsters.time.particle < #tp.particle.accelerator.exp.4 tp.speedsters.time.particle as @s at @s run tag @a[tag=!tp.particle.prox,distance=..7] add tp.particle.prox
execute unless entity @s[tag=tp.particle.accelerator.fueled.tachyon] if score @s tp.speedsters.time.particle >= #tp.particle.accelerator.exp.4 tp.speedsters.time.particle if score @s tp.speedsters.time.particle < #tp.particle.accelerator.exp.5 tp.speedsters.time.particle as @s at @s run tag @a[tag=!tp.particle.prox,distance=..10] add tp.particle.prox
execute unless entity @s[tag=tp.particle.accelerator.fueled.tachyon] if score @s tp.speedsters.time.particle >= #tp.particle.accelerator.exp.5 tp.speedsters.time.particle if score @s tp.speedsters.time.particle < #tp.particle.accelerator.max tp.speedsters.time.particle as @s at @s run tag @a[tag=!tp.particle.prox,distance=..15] add tp.particle.prox

execute if entity @a[tag=tp.particle.prox,tag=!tp.particle.effects] as @a[tag=tp.particle.prox,tag=!tp.particle.effects] run function tp_particle_accelerator:effects
execute if entity @s[tag=tp.particle.accelerator.fueled.positive] as @s[tag=tp.particle.accelerator.fueled.positive] at @s run function tp_particle_accelerator:proximity {"type":"positive"}
execute if entity @s[tag=tp.particle.accelerator.fueled.negative] as @s[tag=tp.particle.accelerator.fueled.negative] at @s run function tp_particle_accelerator:proximity {"type":"negative"}
execute if entity @s[tag=tp.particle.accelerator.fueled.tachyon] as @s[tag=tp.particle.accelerator.fueled.tachyon] at @s run function tp_particle_accelerator:tachyon

execute if score @s tp.speedsters.time.particle >= #tp.particle.accelerator.3 tp.speedsters.time.particle if score @s tp.speedsters.time.particle < #tp.particle.accelerator.max tp.speedsters.time.particle as @s at @s positioned ~ ~ ~ unless entity @e[type=lightning_bolt,distance=..1] run summon lightning_bolt ~ ~ ~
execute if score @s tp.speedsters.time.particle >= #tp.particle.accelerator.3 tp.speedsters.time.particle if score @s tp.speedsters.time.particle < #tp.particle.accelerator.max tp.speedsters.time.particle as @s at @s run particle explosion ~ ~0.5 ~ 2 2 2 0.1 5 force
execute if score @s tp.speedsters.time.particle >= #tp.particle.accelerator.3 tp.speedsters.time.particle if score @s tp.speedsters.time.particle < #tp.particle.accelerator.max tp.speedsters.time.particle as @s at @s if predicate tp_predicate:chance_1 run playsound entity.generic.explode ambient @a ~ ~ ~ 1 0.1 1
execute if score @s tp.speedsters.time.particle >= #tp.particle.accelerator.max tp.speedsters.time.particle as @s at @s if block ~ ~ ~ blast_furnace{Items:[{Slot:0b,count:1,components:{"minecraft:custom_data":{tp.particle.fuel:1b}}}]} run data merge block ~ ~ ~ {Items:[{Slot:0b,count:1,id:"minecraft:air"}]}
execute if score @s tp.speedsters.time.particle >= #tp.particle.accelerator.max tp.speedsters.time.particle as @s at @s if entity @a[tag=tp.particle.prox,distance=..20] run tag @a[tag=tp.particle.prox,distance=..20] remove tp.particle.prox