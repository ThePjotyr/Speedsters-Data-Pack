execute if entity @s[predicate=main:is_looking_up] as @s[predicate=main:is_looking_up] at @s unless block ~ ~ ~ #flash:half_blocks_2[type=bottom] unless block ~ ~-1 ~ #flash:half_blocks_2[type=bottom] anchored eyes positioned ~ ~ ~ rotated ~ 0 positioned ^ ^ ^1 unless block ~ ~ ~ #flash:air_stand unless block ~ ~ ~ #flash:half_blocks_2[type=bottom] unless block ~ ~1 ~ #flash:air_stand at @s anchored eyes rotated ~ 0 positioned ~ ~1 ~ run teleport @s ~ ~ ~
execute if entity @s[predicate=main:is_looking_up] as @s[predicate=main:is_looking_up] if block ~ ~-1 ~ #flash:air_stand anchored eyes positioned ~ ~ ~ rotated ~ 0 positioned ^ ^ ^1 unless block ~ ~ ~ #flash:air_stand unless block ~ ~ ~ #flash:half_blocks_2[type=bottom] if block ~ ~1 ~ #flash:air_stand at @s anchored eyes rotated ~ 0 positioned ~ ~1.3 ~ run teleport @s ^ ^ ^0.1

execute if entity @s[predicate=main:is_looking_up] as @s[predicate=main:is_looking_up] at @s if block ~ ~ ~ #flash:half_blocks_2[type=bottom] anchored eyes positioned ~ ~0.7 ~ rotated ~ 0 positioned ^ ^ ^1 unless block ~ ~ ~ #flash:air_stand unless block ~ ~ ~ #flash:half_blocks_2[type=bottom] unless block ~ ~1 ~ #flash:air_stand at @s anchored eyes rotated ~ 0 positioned ~ ~1.75 ~ run teleport @s ~ ~ ~
execute if entity @s[predicate=main:is_looking_up] as @s[predicate=main:is_looking_up] if block ~ ~-1 ~ #flash:air_stand anchored eyes positioned ~ ~ ~ rotated ~ 0 positioned ^ ^ ^1 unless block ~ ~ ~ #flash:air_stand unless block ~ ~ ~ #flash:half_blocks_2[type=bottom] if block ~ ~1 ~ #flash:half_blocks_2[type=bottom] at @s anchored eyes rotated ~ 0 positioned ~ ~1.75 ~ run teleport @s ^ ^ ^0.1

#execute unless block ~ ~ ~ #flash:half_blocks unless block ~ ~-1 ~ #flash:stairs anchored eyes positioned ~ ~ ~ rotated ~ 0 positioned ^ ^ ^1 unless block ~ ~ ~ #flash:air_stand unless block ~ ~ ~ #flash:half_blocks if block ~ ~1 ~ #flash:air_stand at @s anchored eyes rotated ~ 0 positioned ~ ~1 ~ run teleport @s ^ ^ ^0.01

#execute unless block ~ ~ ~ #flash:half_blocks unless block ~ ~-1 ~ #flash:stairs anchored eyes positioned ~ ~ ~ rotated ~ 0 positioned ^ ^ ^1 if block ~ ~ ~ #flash:half_blocks_2[type=top] at @s anchored eyes rotated ~ 0 positioned ~ ~1 ~ run teleport @s ^ ^ ^0.5